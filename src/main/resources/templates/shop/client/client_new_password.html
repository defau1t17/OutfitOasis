<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update Password</title>
    <link rel="stylesheet" th:href="@{/client/update_password_style.css}">
</head>
<body>


<div class="main-container">
    <h1 id="update-main-text">CREATE NEW PASSWORD</h1>
    <div class="container">
        <form th:action="@{/shop/client/login/update/password/__${update_password_client_id}__}" method="#"
              th:method="patch"
              onsubmit="return checkPasswords()">
            <div class="input-container">
                <div class="block">
                    <input class="input_field" type="password" name="new_password" id="password" required
                           placeholder="Create a strong password">
                    <button class="togglePassword" onclick="togglePassword(this)"></button>

                </div>

                <div class="block">
                    <input class="input_field" type="password" name="new_password_repeated" id="confirmPassword"
                           required
                           placeholder="Repeat your password">
                    <button class="toggleConfirmPassword" onclick="toggleConfirmPassword()"></button>
                </div>


                <button id="update_button">UPDATE</button>
            </div>

        </form>
        <h3 th:if="${issue != null}" th:text="${issue}"></h3>
    </div>
</div>


<script>
    function togglePassword() {
        var passwordField = document.getElementById("password");
        var togglePasswordButton = document.getElementById("togglePassword");
        var type = passwordField.getAttribute("type");

        if (type === "password") {
            passwordField.setAttribute("type", "text");
            togglePasswordButton.textContent = "Hide Password";
            togglePasswordButton.style.backgroundImage= "url('/static/images/open.png')";
        } else {
            passwordField.setAttribute("type", "password");
            togglePasswordButton.textContent = "Show Password";
            togglePasswordButton.style.background= "url('/static/images/open.png')";
        }
    }

    function toggleConfirmPassword() {
        var confirmPasswordField = document.getElementById("confirmPassword");
        var toggleConfirmPasswordButton = document.getElementById("toggleConfirmPassword");
        var type = confirmPasswordField.getAttribute("type");

        if (type === "password") {
            confirmPasswordField.setAttribute("type", "text");
            toggleConfirmPasswordButton.textContent = "Hide Password";
        } else {
            confirmPasswordField.setAttribute("type", "password");
            toggleConfirmPasswordButton.textContent = "Show Password";
        }
    }

</script>

</body>
</html>