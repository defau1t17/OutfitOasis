<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registration</title>
    <link rel="stylesheet" th:href="@{/client/client_registration_style.css}">
</head>
<body>

<header class="shop-header">

    <div class="logo-block-link">
        <a th:href="@{/}"> <img class="header-logo" th:src="@{/images/out_fit_oasis.png}"></a>
    </div>

    <div class="header-links-block">
        <a class="header-link">PRODUCTS</a>
        <a class="header-link">CATEGORIES</a>
        <a class="header-link">HELP</a>
    </div>

    <div class="header-account-link">
        <div class="account-inner-links">
            <a class="header-link" th:href="@{/shop/client/registration}">SIGN IN </a>
            <p class="spaced-slash">/</p>
            <a class="header-link" th:href="@{/shop/client/login}">SIGN UP</a>
        </div>

        <a href="account-link"><img id="account-link-logo"
                                    src="https://i0.wp.com/www.repol.copl.ulaval.ca/wp-content/uploads/2019/01/default-user-icon.jpg">
        </a>

    </div>

</header>


<div class="header-text">
    <h1 id="main-header-text">CREATE ACCOUNT</h1>
</div>



<div class="container">

    <div class="registration">
        <form th:action="@{/shop/client/registration}" method="post" th:object="${newClient}">

            <input class="input_field" type="text" th:field="*{name}" placeholder="name" required maxlength="25">
            <br>
            <input class="input_field" type="text" th:field="*{second_name}" placeholder="second name" required
                   maxlength="25">
            <br>

            <input class="input_field" type="number" th:field="*{age}" placeholder="age" min="12" max="100" required
                   maxlength="3" oninput="replaceNumberIfOutOfMax(this),setDefaultZeroIfEmpty(this)">
            <br>

            <div class="select-gender-container">
                <select class="select-field" th:field="*{gender}" required>
                    <option value="">-- Select gender --</option>
                    <option th:each="gender : ${T(com.example.mongo_db.Entity.Gender).values()}" th:value="${gender}"
                            th:text="${gender}"></option>
                </select>
            </div>

            <br>

            <input class="input_field" type="email" th:field="*{mail}" placeholder="email address" required
                   minlength="5" maxlength="40">
            <br>
            <input class="input_field" type="tel" th:field="*{phone_number}" placeholder="phone number" min="0"
                   maxlength="12" required oninput="addPlusToNumber(this)">
            <br>
            <input class="input_field" type="text" th:field="*{client_user_name}" placeholder="user name"
                   maxlength="40"
                   required>
            <br>
            <input class="input_field" type="password" th:field="*{client_password}" placeholder="password"
                   required maxlength="40">
            <br>
            <div class="create-new-client-confirm">
                <button id="create-new-client-button">Create Account</button>
            </div>
        </form>
    </div>


    <div class="login">
        <h1 id="login-main-text">WELCOME!</h1>
        <h2 id="login-secondary-text">If you already have an account, please LOG IN</h2>
        <div class="links-container">
            <button id="login-button"><a id="login-link" th:href="@{/shop/client/login}">LOG IN</a></button>
        </div>


    </div>
</div>

<footer class="shop-footer">

    <div class="details-container">
        <div class="my_info-container">
            <p id="about-me-text">About Me!</p>
            <a class="my-links" href="https://github.com/defau1t17">My GitHub</a>
            <a class="my-links" href="https://www.linkedin.com/in/michael-stepushin-40a06b208/">My LinkedIn</a>
            <a class="my-links" href="https://rabota.by/resume/28f08fffff0bf4bb310039ed1f62556363785a">My Rabota.by</a>
            <a class="my-links" href="https://t.me/thebiggestmike">My Telegram</a>
            <a class="my-links" href="https://instagram.com/default_17_?igshid=MzMyNGUyNmU2YQ==">My Instagram</a>
        </div>
        <div class="stack-container">
            <p id="stack-text">Used Technologies</p>
            <label class="stack">Java Spring Boot</label>
            <label class="stack">Java Spring Data/JPA(Mongo DB)</label>
            <label class="stack">Java Message Sender</label>
            <label class="stack">HTML/CSS/JS</label>
        </div>

        <div class="footer-logo-container">
            <img id="footer-logo" th:src="@{/images/logo.png}" >
        </div>
    </div>

    <div class="footer-text-container">
        <span id="footer-main-text">This project is made, to show all knowledge that I get in less half a year of learning
            Java Web
            Programming </span>
        <span id="footer-secondary-text">I designed this project just to acquaint with MongoDB, but when I had made my
            tasks harder, I thought why
            can't I make a small project just to train my-self </span>
        <span id="footer-third-text">In the nearest future this footer will be huger with more technologies, because i just
            started</span>
    </div>

</footer>


<p th:if="${error_message} != null" th:text="${error_message}"></p>


<script>

    function replaceNumberIfOutOfMax(inputElement) {

        if (inputElement.value.startsWith(0) && !inputElement.value.endsWith(0)) {
            inputElement.value = inputElement.value.substring(1, inputElement.value.length);
        }
        if (inputElement.value > 100) {
            inputElement.value = ''
        }
        if (inputElement.value === '') {
            inputElement.value = '0';
        }
    }

    function setDefaultZeroIfEmpty(inputElement) {
        if (inputElement.value === '') {
            inputElement.value = '0';
        }
    }


    function addPlusToNumber(inputElement) {
        if (inputElement.value.startsWith('+')) {

        }
        if(inputElement.value.startsWith('+') && inputElement.value.endsWith('+')){
            inputElement.value = '';
        }

        else if(!inputElement.value.startsWith('+') && !inputElement.value.endsWith('+')){
            inputElement.value = '+' + inputElement.value;
        }


    }

</script>

</body>


</html>